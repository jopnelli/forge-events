modules:
  confluence:spaceSettings:
    - key: a-new-forge-app-confluence-space-settings
      resource: sps-res
      resolver:
        function: resolver
      title: a-new-forge-app
  confluence:contentBylineItem:
    - key: a-new-forge-app-content-byline-item
      resource: cbi-res
      resolver:
        function: resolver
      title: Languages
      tooltip: Show different languages for this content
      description: Show different languages for this content
      dynamicProperties:
        function: bylineproperties
  function:
    - key: resolver
      handler: index.handler
    - key: bylineproperties
      handler: index.bylineproperties
resources:
  - key: sps-res
    path: static/spaceSettings/build
    tunnel:
      port: 3000
  - key: cbi-res
    path: static/contentBylineItem/build
    tunnel:
      port: 3001
  - key: modal-res
    path: static/modal/build
    tunnel:
      port: 3002
permissions:
  scopes:
    - storage:app
    - read:confluence-user
    - search:confluence
    - read:confluence-content.summary
  content:
    styles:
      - unsafe-inline
    scripts:
      ## TODO: drop before release (just needed for development)
      - unsafe-inline
  external:
    fetch:
      backend:
        - "language-manager.seibert-media.net"
        - "*.loophole.site" ## TODO: drop before release (just needed for development)
app:
  id: ari:cloud:ecosystem::app/54694889-3bf5-450b-924c-0db3a94028e4
